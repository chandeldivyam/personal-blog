---
title: 'Building Performant Websites in 2024'
description: 'Essential techniques and strategies for creating fast, optimized web experiences that delight users and rank well in search engines.'
pubDate: 2024-01-20
tags: ['performance', 'web-vitals', 'optimization', 'javascript']
draft: false
---

import OptimizedImage from '../../components/OptimizedImage.astro';
import optimizedHero from '../../assets/optimized-image.jpg';

# Building Performant Websites in 2024

<OptimizedImage 
  src={optimizedHero} 
  alt="Performance optimization hero image - showcasing fast loading websites"
  width={1200}
  height={600}
/>

Website performance isn't just about making your site feel fast—it directly impacts user experience, conversion rates, and search engine rankings. In this post, I'll share the most effective techniques I've learned for building performant websites.

## Why Performance Matters

Before diving into techniques, let's understand why performance is crucial:

- **User Experience**: 53% of mobile users abandon sites that take longer than 3 seconds to load
- **SEO Impact**: Core Web Vitals are now ranking factors for Google
- **Business Results**: Amazon found that every 100ms of latency cost them 1% in sales
- **Accessibility**: Fast sites are more accessible to users with slower devices and connections

## Core Web Vitals: The Holy Trinity

Google's Core Web Vitals focus on three key metrics:

### 1. Largest Contentful Paint (LCP)
**Target: < 2.5 seconds**

LCP measures loading performance. To improve it:

```html
<!-- Preload critical resources -->
<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/images/hero.webp" as="image">

<!-- Optimize images -->
<img src="hero.webp" width="800" height="400" loading="eager" 
     sizes="(max-width: 768px) 100vw, 800px" alt="Hero image">
```

### 2. First Input Delay (FID)
**Target: < 100 milliseconds**

FID measures interactivity. Key strategies:

```javascript
// Break up long tasks
function processLargeDataset(data) {
  const chunk = data.splice(0, 100);
  
  // Process chunk
  processChunk(chunk);
  
  // Continue processing in next frame
  if (data.length > 0) {
    requestIdleCallback(() => processLargeDataset(data));
  }
}

// Use web workers for heavy computations
const worker = new Worker('/js/data-processor.js');
worker.postMessage(largeDataset);
```

### 3. Cumulative Layout Shift (CLS)
**Target: < 0.1**

CLS measures visual stability:

```css
/* Reserve space for images */
.image-container {
  aspect-ratio: 16 / 9;
  background-color: #f0f0f0;
}

/* Avoid layout shifts from fonts */
@font-face {
  font-family: 'CustomFont';
  src: url('/fonts/custom.woff2') format('woff2');
  font-display: swap; /* Prevents invisible text during font swap */
}
```

## Essential Optimization Techniques

### 1. Image Optimization

![Blog Image Example](/images/blog-image.jpg)

Images often account for 60-70% of page weight. Here's a comparison of different approaches:

**Optimized image with automatic WebP conversion and responsive sizing:**
<OptimizedImage 
  src={optimizedHero} 
  alt="Optimized performance image example"
  width={600}
  height={300}
/>

Here are different ways to include images:

**Simple markdown approach (static images):**
```markdown
![Alt text](/images/filename.jpg)
```

**HTML with more control:**
```html
<img src="/images/blog-image.jpg" alt="Blog example" width="600" height="300" loading="lazy">
```

**For optimized images in MDX blog posts:**
```mdx
---
import OptimizedImage from '../../components/OptimizedImage.astro';
import myImage from '../../assets/photo.jpg';
---

<OptimizedImage 
  src={myImage} 
  alt="Description"
  width={800}
  height={400}
/>
```

**Traditional responsive images:**
```html
<!-- Modern formats with fallbacks -->
<picture>
  <source srcset="image.avif" type="image/avif">
  <source srcset="image.webp" type="image/webp">
  <img src="image.jpg" alt="Description" loading="lazy" 
       width="400" height="300">
</picture>

<!-- Responsive images -->
<img srcset="small.webp 480w, medium.webp 768w, large.webp 1200w"
     sizes="(max-width: 768px) 100vw, 50vw"
     src="medium.webp" alt="Responsive image">
```

### 2. CSS Optimization

```css
/* Critical CSS inline, rest loaded asynchronously */
/* Critical styles here */

/* Load non-critical CSS */
.async-css {
  /* Use CSS containment */
  contain: layout style paint;
}

/* Optimize animations */
@media (prefers-reduced-motion: no-preference) {
  .animate {
    transform: translateX(0);
    transition: transform 0.3s ease;
  }
}
```

### 3. JavaScript Performance

```javascript
// Code splitting with dynamic imports
const heavyLibrary = await import('./heavy-library.js');

// Lazy load non-critical JavaScript
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      import('./component.js').then(module => {
        module.initializeComponent(entry.target);
      });
    }
  });
});

// Optimize event listeners
const throttle = (func, delay) => {
  let timeoutId;
  let lastExecTime = 0;
  return function (...args) {
    const currentTime = Date.now();
    
    if (currentTime - lastExecTime > delay) {
      func.apply(this, args);
      lastExecTime = currentTime;
    } else {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => {
        func.apply(this, args);
        lastExecTime = Date.now();
      }, delay - (currentTime - lastExecTime));
    }
  };
};

window.addEventListener('scroll', throttle(handleScroll, 16));
```

## Advanced Techniques

### Resource Hints

```html
<!-- DNS prefetch for external domains -->
<link rel="dns-prefetch" href="//fonts.googleapis.com">

<!-- Preconnect to critical third-party origins -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Prefetch likely next pages -->
<link rel="prefetch" href="/about">
```

### Service Worker Caching

```javascript
// sw.js
const CACHE_NAME = 'v1';
const STATIC_ASSETS = [
  '/',
  '/css/main.css',
  '/js/main.js',
  '/fonts/main.woff2'
];

// Cache static assets
self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(STATIC_ASSETS))
  );
});

// Serve from cache, fall back to network
self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

## Modern Framework Benefits

Static site generators like Astro provide built-in optimizations:

- **Zero JavaScript by default**
- **Component islands** for selective hydration
- **Automatic code splitting**
- **Built-in image optimization**
- **CSS and JS bundling**

## Measuring Performance

### Tools for Testing

1. **Lighthouse** - Comprehensive audits
2. **WebPageTest** - Real-world testing
3. **Core Web Vitals Chrome Extension** - Quick field data
4. **GTmetrix** - Detailed analysis with recommendations

### Real User Monitoring

```javascript
// Measure Core Web Vitals
import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';

function sendToAnalytics(metric) {
  // Send to your analytics service
  gtag('event', metric.name, {
    value: Math.round(metric.value),
    event_label: metric.id,
  });
}

getCLS(sendToAnalytics);
getFID(sendToAnalytics);
getFCP(sendToAnalytics);
getLCP(sendToAnalytics);
getTTFB(sendToAnalytics);
```

## Performance Budget

Set and enforce performance budgets:

```json
{
  "budget": [
    {
      "path": "/**",
      "timings": {
        "first-contentful-paint": 2000,
        "largest-contentful-paint": 2500,
        "interactive": 3000
      },
      "resourceSizes": {
        "script": 150,
        "total": 500
      }
    }
  ]
}
```

## Conclusion

Building performant websites requires a holistic approach combining smart architecture choices, optimization techniques, and continuous monitoring. Remember:

1. **Measure first** - Establish baselines before optimizing
2. **Focus on user experience** - Metrics should reflect real user impact  
3. **Automate monitoring** - Set up alerts for performance regressions
4. **Consider the full user journey** - Optimize beyond just the initial page load

Performance is not a feature you add at the end—it's a fundamental characteristic that should be considered throughout the entire development process.

What performance challenges are you facing? I'd love to hear about your experiences and help solve specific problems!

---

*Next week, I'll dive deeper into advanced image optimization techniques, including modern formats, responsive images, and progressive enhancement strategies.*